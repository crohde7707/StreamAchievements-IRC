!function(e){var n={};function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(o,s,function(n){return e[n]}.bind(null,s));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){e.exports=t(1)},function(e,n,t){const o=t(2).default,s=t(3),l=t(4),r=t(5),c=s.phirebot.token,a=s.phirebot.username,{chat:u,chatConstants:i}=(s.twitch.clientID,t(6).build,new o({token:c,username:a}));process.env.PORT;let p,h=[],g={},I={},f={},m={},d={},b=[],v=e=>{let n=m[channel],t={channel:channel,achievementID:n,type:e.tags.msgId,userID:e.tags.userId};b.push(t)};u.connect().then(e=>{}),u.on("*",e=>{}),u.on("PRIVMSG",e=>{((e,n,t)=>{if(d[e]){let o=d[e][t];o&&(console.log("we have listeners..."),o.forEach(e=>{let t=new RegExp(e.query);console.log(n);let o=n.match(t);o&&console.log(o)}))}})(e.channel.substr(1),e.message,e.username)}),u.on("USERNOTICE/SUBSCRIPTION",e=>{let n=e.channel.substr(1);g[n]&&((e,n)=>{let t={channel:e,achievementID:g[e],tier:n.parameters.subPlan,userID:n.tags.userId};b.push(t)})(n,e),console.log("------- SUB -------"),console.log(e),console.log("-------------------")}),u.on("USERNOTICE/RESUBSCRIPTION",e=>{let n=e.channel.substr(1);I[n]&&((e,n)=>{let{cumulativeMonths:t,streakMonths:o,subPlan:s}=n.parameters;I[e].forEach(l=>{if(console.log(l),console.log("streakMonths: "+o),console.log("cumulativeMonths: "+t),0===l.type&&Number.parseInt(l.query)<=o){console.log("  >>> Achievmenet earned: streak");let t={channel:e,type:n.tags.msgId,tier:s,userID:n.tags.userId,achievementID:l,streak:o};b.push(t)}else if(1===l.type&&Number.parseInt(l.query)<=t){console.log("  >>> Achievmenet earned: cumulativeMonths");let o={channel:e,type:n.tags.msgId,tier:s,userID:n.tags.userId,achievementID:l,cumulative:t};b.push(o)}})})(n,e),console.log(I[n]),console.log("------- SUB -------"),console.log(e),console.log("-------------------")}),u.on("USERNOTICE/SUBSCRIPTION_GIFT",e=>{let n=e.channel.substr(1);totalGifts=e.parameters.senderCount,f[n]&&f[n][totalGifts]&&((e,n,t)=>{let o=f[e][t],{months:s,recepientID:l,subPlan:r}=n.parameters,c={channel:e,achievementID:o,type:n.tags.msgId,gifterID:n.tags.userId,recepientID:recipientId,recepientTotalMonths:s,tier:r};b.push(c)})(n,e,totalGifts),console.log("------- SUB GIFT -------"),console.log(e),console.log("-------------------")}),u.on("USERNOTICE/SUBSCRIPTION_GIFT_COMMUNITY",e=>{e.channel.substr(1);console.log("------- SUB GIFT COMMUNITY -------"),console.log(e),console.log("-------------------")}),u.on("USERNOTICE/RAID",e=>{let n=e.channel.substr(1);m[n]&&v(n),console.log("------- RAID -------"),console.log(e),console.log("-------------------")});(()=>new Promise((e,n)=>{(p=r.connect(process.env.API_DOMAIN,{reconnection:!0})).on("new-channel",e=>console.log(e)),l.get(process.env.API_DOMAIN+"/api/irc/channels",{withCredentials:!0}).then(n=>{h=n.channels,e()})}))().then(()=>{console.log("==========================="),console.log("   IRC IS UP AND RUNNING   "),console.log("===========================")})},function(e,n){e.exports=require("twitch-js")},function(e,n){e.exports={twitch:{clientID:"zx83pxp0b4mkeu931upd21a6f9clv4",clientSecret:"zzagacb4su7w9yaxym6d5b3l86hyne"},session:{cookieKey:"tacosarelovetacosarelyfe"},phirebot:{token:"oauth:poux5p75u6q7nymldu2c4s7vtijiuj",username:"stream_achievements"}}},function(e,n){e.exports=require("axios")},function(e,n){e.exports=require("socket.io-client")},function(e,n){let t={"{user}":/([a-zA-Z0-9_]+)/,"{target}":/([a-zA-Z0-9_]+)/,"{value}":/([0-9]+)/};e.exports={build:e=>{let n=Object.keys(t),o=e;return n.forEach(e=>{o=o.replace(new RegExp(e,"gi"),t[e].source)}),o}}}]);